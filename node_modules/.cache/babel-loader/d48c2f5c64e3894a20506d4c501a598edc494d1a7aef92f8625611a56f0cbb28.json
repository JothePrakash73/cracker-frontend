{"ast":null,"code":"import _objectSpread from\"C:/Users/jothe/Downloads/Cracker/Cracker/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useReducer,useState}from'react';import{BrowserRouter as Router,Routes,Route}from'react-router-dom';import Navbar from'./components/Navbar';import Home from'./pages/Home';import About from'./pages/About';import Login from'./pages/Login';import Products from'./pages/Products';import Cart from'./pages/Cart';import CartDrawer from'./components/CartDrawer';import Footer from'./components/Footer';import'./App.css';import Register from'./pages/Register';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const cartReducer=(state,action)=>{switch(action.type){case'ADD_ITEM':{const product=action.payload;const existingItem=state.cartItems.find(item=>item._id===product._id);if(existingItem){return _objectSpread(_objectSpread({},state),{},{cartItems:state.cartItems.map(item=>item._id===product._id?_objectSpread(_objectSpread({},item),{},{quantity:Math.min(item.quantity+1,100)}):item)});}else{return _objectSpread(_objectSpread({},state),{},{cartItems:[...state.cartItems,_objectSpread(_objectSpread({},product),{},{quantity:1})]});}}case'REMOVE_ITEM':{const idToRemove=action.payload.id;return _objectSpread(_objectSpread({},state),{},{cartItems:state.cartItems.filter(item=>item._id!==idToRemove)});}case'UPDATE_QUANTITY':{const{id,quantity}=action.payload;if(quantity<=0){return _objectSpread(_objectSpread({},state),{},{cartItems:state.cartItems.filter(item=>item._id!==id)});}if(quantity>100)return state;return _objectSpread(_objectSpread({},state),{},{cartItems:state.cartItems.map(item=>item._id===id?_objectSpread(_objectSpread({},item),{},{quantity}):item)});}case'CLEAR_CART':return _objectSpread(_objectSpread({},state),{},{cartItems:[]});default:return state;}};function App(){const initialState={cartItems:[]};const[state,dispatch]=useReducer(cartReducer,initialState);const[isCartOpen,setCartOpen]=useState(false);const handleAddToCart=product=>{dispatch({type:'ADD_ITEM',payload:product});setCartOpen(true);};const handleRemoveFromCart=id=>{dispatch({type:'REMOVE_ITEM',payload:{id}});};const handleUpdateQuantity=(id,newQuantity)=>{if(newQuantity>=1&&newQuantity<=100){dispatch({type:'UPDATE_QUANTITY',payload:{id,quantity:newQuantity}});}};const getTotalCartItems=()=>{var _state$cartItems;return(state===null||state===void 0?void 0:(_state$cartItems=state.cartItems)===null||_state$cartItems===void 0?void 0:_state$cartItems.reduce((total,item)=>total+item.quantity,0))||0;};const handlePurchase=()=>{const totalAmount=state.cartItems.reduce((sum,item)=>sum+item.price*item.quantity,0);const amountStr=totalAmount.toFixed(2);const gpayUrl=\"https://pay.google.com/gp/p/ui/pay?amount=\".concat(amountStr,\"&currency=INR\");window.open(gpayUrl,'_blank');};return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(Navbar,{cartItemCount:getTotalCartItems(),onCartClick:()=>setCartOpen(true)}),/*#__PURE__*/_jsx(\"div\",{className:\"main-content\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/about\",element:/*#__PURE__*/_jsx(About,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/products\",element:/*#__PURE__*/_jsx(Products,{onAddToCart:handleAddToCart})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",element:/*#__PURE__*/_jsx(Cart,{cartItems:state.cartItems,onRemoveFromCart:handleRemoveFromCart,onUpdateQuantity:handleUpdateQuantity})})]})}),/*#__PURE__*/_jsx(CartDrawer,{isOpen:isCartOpen,onClose:()=>setCartOpen(false),cartItems:state.cartItems,onRemoveFromCart:handleRemoveFromCart,onUpdateQuantity:handleUpdateQuantity,onPurchase:handlePurchase,onClearCart:()=>dispatch({type:'CLEAR_CART'})}),/*#__PURE__*/_jsx(Footer,{})]});}export default App;","map":{"version":3,"names":["React","useReducer","useState","BrowserRouter","Router","Routes","Route","Navbar","Home","About","Login","Products","Cart","CartDrawer","Footer","Register","jsx","_jsx","jsxs","_jsxs","cartReducer","state","action","type","product","payload","existingItem","cartItems","find","item","_id","_objectSpread","map","quantity","Math","min","idToRemove","id","filter","App","initialState","dispatch","isCartOpen","setCartOpen","handleAddToCart","handleRemoveFromCart","handleUpdateQuantity","newQuantity","getTotalCartItems","_state$cartItems","reduce","total","handlePurchase","totalAmount","sum","price","amountStr","toFixed","gpayUrl","concat","window","open","children","cartItemCount","onCartClick","className","path","element","onAddToCart","onRemoveFromCart","onUpdateQuantity","isOpen","onClose","onPurchase","onClearCart"],"sources":["C:/Users/jothe/Downloads/Cracker/Cracker/frontend/src/App.jsx"],"sourcesContent":["  import React, { useReducer, useState } from 'react';\r\n  import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\r\n  import Navbar from './components/Navbar';\r\n  import Home from './pages/Home';\r\n  import About from './pages/About';\r\n  import Login from './pages/Login';\r\n  import Products from './pages/Products';\r\n  import Cart from './pages/Cart';\r\n  import CartDrawer from './components/CartDrawer';\r\n  import Footer from './components/Footer';\r\n  import './App.css';\r\n  import Register from './pages/Register';\r\n\r\n  const cartReducer = (state, action) => {\r\n    switch (action.type) {\r\n      case 'ADD_ITEM': {\r\n        const product = action.payload;\r\n        const existingItem = state.cartItems.find(item => item._id === product._id);\r\n        if (existingItem) {\r\n          return {\r\n            ...state,\r\n            cartItems: state.cartItems.map(item =>\r\n              item._id === product._id\r\n                ? { ...item, quantity: Math.min(item.quantity + 1, 100) }\r\n                : item\r\n            ),\r\n          };\r\n        } else {\r\n          return {\r\n            ...state,\r\n            cartItems: [...state.cartItems, { ...product, quantity: 1 }],\r\n          };\r\n        }\r\n      }\r\n\r\n      case 'REMOVE_ITEM': {\r\n        const idToRemove = action.payload.id;\r\n        return {\r\n          ...state,\r\n          cartItems: state.cartItems.filter(item => item._id !== idToRemove),\r\n        };\r\n      }\r\n\r\n      case 'UPDATE_QUANTITY': {\r\n        const { id, quantity } = action.payload;\r\n        if (quantity <= 0) {\r\n          return {\r\n            ...state,\r\n            cartItems: state.cartItems.filter(item => item._id !== id),\r\n          };\r\n        }\r\n        if (quantity > 100) return state;\r\n        return {\r\n          ...state,\r\n          cartItems: state.cartItems.map(item =>\r\n            item._id === id ? { ...item, quantity } : item\r\n          ),\r\n        };\r\n      }\r\n\r\n      case 'CLEAR_CART':\r\n        return { ...state, cartItems: [] };\r\n\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n\r\n  function App() {\r\n    const initialState = { cartItems: [] };\r\n    const [state, dispatch] = useReducer(cartReducer, initialState);\r\n    const [isCartOpen, setCartOpen] = useState(false);\r\n\r\n    const handleAddToCart = (product) => {\r\n      dispatch({ type: 'ADD_ITEM', payload: product });\r\n      setCartOpen(true);\r\n    };\r\n\r\n    const handleRemoveFromCart = (id) => {\r\n      dispatch({ type: 'REMOVE_ITEM', payload: { id } });\r\n    };\r\n\r\n    const handleUpdateQuantity = (id, newQuantity) => {\r\n      if (newQuantity >= 1 && newQuantity <= 100) {\r\n        dispatch({ type: 'UPDATE_QUANTITY', payload: { id, quantity: newQuantity } });\r\n      }\r\n    };\r\n\r\n    const getTotalCartItems = () => {\r\n      return state?.cartItems?.reduce((total, item) => total + item.quantity, 0) || 0;\r\n    };\r\n\r\n    const handlePurchase = () => {\r\n      const totalAmount = state.cartItems.reduce(\r\n        (sum, item) => sum + item.price * item.quantity,\r\n        0\r\n      );\r\n      const amountStr = totalAmount.toFixed(2);\r\n      const gpayUrl = `https://pay.google.com/gp/p/ui/pay?amount=${amountStr}&currency=INR`;\r\n      window.open(gpayUrl, '_blank');\r\n    };\r\n\r\n    return (\r\n      <Router>\r\n        <Navbar cartItemCount={getTotalCartItems()} onCartClick={() => setCartOpen(true)} />\r\n\r\n        <div className=\"main-content\">\r\n          <Routes>\r\n            <Route path=\"/\" element={<Home />} />\r\n            <Route path=\"/about\" element={<About />} />\r\n            <Route path=\"/login\" element={<Login />} />\r\n            <Route path=\"/register\" element={<Register />} />\r\n            <Route path=\"/products\" element={<Products onAddToCart={handleAddToCart} />} />\r\n            <Route\r\n              path=\"/cart\"\r\n              element={\r\n                <Cart\r\n                  cartItems={state.cartItems}\r\n                  onRemoveFromCart={handleRemoveFromCart}\r\n                  onUpdateQuantity={handleUpdateQuantity}\r\n                />\r\n              }\r\n            />\r\n          </Routes>\r\n        </div>\r\n\r\n        <CartDrawer\r\n          isOpen={isCartOpen}\r\n          onClose={() => setCartOpen(false)}\r\n          cartItems={state.cartItems}\r\n          onRemoveFromCart={handleRemoveFromCart}\r\n          onUpdateQuantity={handleUpdateQuantity}\r\n          onPurchase={handlePurchase}\r\n          onClearCart={() => dispatch({ type: 'CLEAR_CART' })}\r\n        />\r\n\r\n        <Footer />\r\n      </Router>\r\n    );\r\n  }\r\n\r\n  export default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}