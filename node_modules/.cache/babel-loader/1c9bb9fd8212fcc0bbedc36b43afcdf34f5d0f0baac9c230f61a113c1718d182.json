{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jothe\\\\Downloads\\\\Cracker\\\\frontend\\\\src\\\\pages\\\\AfterPayment.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport './AfterPayment.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SubmitOrder({\n  cartItems\n}) {\n  _s();\n  const [name, setName] = useState('');\n  const [phone, setPhone] = useState('');\n  const [place, setPlace] = useState('');\n  const [landmark, setLandmark] = useState('');\n  const [billFile, setBillFile] = useState(null);\n  const [screenshotFile, setScreenshotFile] = useState(null);\n  const MAX_FILE_SIZE = 5 * 1024 * 1024; // 5 MB limit (adjust as needed)\n\n  const validateFiles = () => {\n    if (!billFile) {\n      alert('Please upload a valid PDF bill.');\n      return false;\n    }\n    if (billFile.type !== 'application/pdf') {\n      alert('Invalid file type. Please upload a PDF file for the bill.');\n      return false;\n    }\n    if (billFile.size > MAX_FILE_SIZE) {\n      alert('Bill file size too large. Please upload a file under 5MB.');\n      return false;\n    }\n    if (!screenshotFile) {\n      alert('Please upload your payment screenshot.');\n      return false;\n    }\n    if (!screenshotFile.type.startsWith('image/')) {\n      alert('Invalid screenshot format. Please upload a valid image.');\n      return false;\n    }\n    if (screenshotFile.size > MAX_FILE_SIZE) {\n      alert('Screenshot size too large. Please upload an image under 5MB.');\n      return false;\n    }\n    return true;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!validateFiles()) return;\n    const formData = new FormData();\n    formData.append('name', name);\n    formData.append('phone', phone);\n    formData.append('place', place);\n    formData.append('landmark', landmark);\n    formData.append('bill', billFile);\n    formData.append('screenshot', screenshotFile);\n    try {\n      const res = await fetch('http://localhost:5000/api/order-upload', {\n        method: 'POST',\n        body: formData\n      });\n      const data = await res.json();\n      if (data.success) {\n        window.location.href = data.whatsappURL;\n      } else {\n        alert('Upload failed. Please try again.');\n      }\n    } catch (err) {\n      console.error(err);\n      alert('Error submitting order. Please try again later.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"after-payment-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Submit Your Order\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: name,\n        onChange: e => setName(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Phone Number\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: phone,\n        onChange: e => setPhone(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Place\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: place,\n        onChange: e => setPlace(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Landmark\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: landmark,\n        onChange: e => setLandmark(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Upload PDF Bill\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"application/pdf\",\n        onChange: e => setBillFile(e.target.files[0]),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Upload Payment Screenshot\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"image/*\",\n        onChange: e => setScreenshotFile(e.target.files[0]),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Submit Order to WhatsApp\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n_s(SubmitOrder, \"alLjSwUdP8adGoL7IHltEVz6qoQ=\");\n_c = SubmitOrder;\nexport default SubmitOrder;\nvar _c;\n$RefreshReg$(_c, \"SubmitOrder\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","SubmitOrder","cartItems","_s","name","setName","phone","setPhone","place","setPlace","landmark","setLandmark","billFile","setBillFile","screenshotFile","setScreenshotFile","MAX_FILE_SIZE","validateFiles","alert","type","size","startsWith","handleSubmit","e","preventDefault","formData","FormData","append","res","fetch","method","body","data","json","success","window","location","href","whatsappURL","err","console","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","required","accept","files","_c","$RefreshReg$"],"sources":["C:/Users/jothe/Downloads/Cracker/frontend/src/pages/AfterPayment.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './AfterPayment.css';\r\n\r\nfunction SubmitOrder({ cartItems }) {\r\n  const [name, setName] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n  const [place, setPlace] = useState('');\r\n  const [landmark, setLandmark] = useState('');\r\n  const [billFile, setBillFile] = useState(null);\r\n  const [screenshotFile, setScreenshotFile] = useState(null);\r\n\r\n  const MAX_FILE_SIZE = 5 * 1024 * 1024; // 5 MB limit (adjust as needed)\r\n\r\n  const validateFiles = () => {\r\n    if (!billFile) {\r\n      alert('Please upload a valid PDF bill.');\r\n      return false;\r\n    }\r\n    if (billFile.type !== 'application/pdf') {\r\n      alert('Invalid file type. Please upload a PDF file for the bill.');\r\n      return false;\r\n    }\r\n    if (billFile.size > MAX_FILE_SIZE) {\r\n      alert('Bill file size too large. Please upload a file under 5MB.');\r\n      return false;\r\n    }\r\n\r\n    if (!screenshotFile) {\r\n      alert('Please upload your payment screenshot.');\r\n      return false;\r\n    }\r\n    if (!screenshotFile.type.startsWith('image/')) {\r\n      alert('Invalid screenshot format. Please upload a valid image.');\r\n      return false;\r\n    }\r\n    if (screenshotFile.size > MAX_FILE_SIZE) {\r\n      alert('Screenshot size too large. Please upload an image under 5MB.');\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!validateFiles()) return;\r\n\r\n    const formData = new FormData();\r\n    formData.append('name', name);\r\n    formData.append('phone', phone);\r\n    formData.append('place', place);\r\n    formData.append('landmark', landmark);\r\n    formData.append('bill', billFile);\r\n    formData.append('screenshot', screenshotFile);\r\n\r\n    try {\r\n      const res = await fetch('http://localhost:5000/api/order-upload', {\r\n        method: 'POST',\r\n        body: formData\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (data.success) {\r\n        window.location.href = data.whatsappURL;\r\n      } else {\r\n        alert('Upload failed. Please try again.');\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert('Error submitting order. Please try again later.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"after-payment-container\">\r\n      <h2>Submit Your Order</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>Name</label>\r\n        <input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} required />\r\n\r\n        <label>Phone Number</label>\r\n        <input type=\"text\" value={phone} onChange={(e) => setPhone(e.target.value)} required />\r\n\r\n        <label>Place</label>\r\n        <input type=\"text\" value={place} onChange={(e) => setPlace(e.target.value)} required />\r\n\r\n        <label>Landmark</label>\r\n        <input type=\"text\" value={landmark} onChange={(e) => setLandmark(e.target.value)} required />\r\n\r\n        <label>Upload PDF Bill</label>\r\n        <input\r\n          type=\"file\"\r\n          accept=\"application/pdf\"\r\n          onChange={(e) => setBillFile(e.target.files[0])}\r\n          required\r\n        />\r\n\r\n        <label>Upload Payment Screenshot</label>\r\n        <input\r\n          type=\"file\"\r\n          accept=\"image/*\"\r\n          onChange={(e) => setScreenshotFile(e.target.files[0])}\r\n          required\r\n        />\r\n\r\n        <button type=\"submit\">Submit Order to WhatsApp</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SubmitOrder;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}